<?xml version="1.0" encoding="utf-8" ?>
<Page
    x:Class="HackPDM.Forms.Settings.SearchOdoo"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	xmlns:help="using:HackPDM.ClientUtils"
    mc:Ignorable="d"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <Page.Resources>
        <help:OperatorConverter x:Key="OperationConverter" />
    </Page.Resources>

    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <Grid Grid.Row="0" ColumnSpacing="24">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <StackPanel Grid.Column="0" Spacing="8">
                <TextBlock x:Name="label1" Text="Filename Value"/>
                <StackPanel Orientation="Horizontal" Spacing="8">
                    <ComboBox x:Name="OdooSearchComparer" Width="80">
                        <ComboBox.ItemTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding OpRepr}"/>
                            </DataTemplate>
                        </ComboBox.ItemTemplate>
                    </ComboBox>
                    <TextBox x:Name="FileNameTextbox" HorizontalAlignment="Stretch" MinWidth="250"/>
                </StackPanel>

                <StackPanel Orientation="Horizontal" Spacing="24" Margin="0,8,0,0">
                    <CheckBox x:Name="OdooCheckedMe" Content="Checked Out to Me" Checked="OdooCheckedMe_CheckedChanged" Unchecked="OdooCheckedMe_CheckedChanged"/>
                    <CheckBox x:Name="OdooLocalOnly" Content="Only Existing Locally" Checked="OdooLocalOnly_CheckedChanged" Unchecked="OdooLocalOnly_CheckedChanged"/>
                    <CheckBox x:Name="OdooDeletedIsLocal" Content="Deleted Existing Locally" Checked="OdooDeletedIsLocal_CheckedChanged" Unchecked="OdooDeletedIsLocal_CheckedChanged"/>
                </StackPanel>

                <StackPanel Orientation="Horizontal" Spacing="8" Margin="0,4,0,0">
                    <TextBlock x:Name="lblMaxRes" Text="Max Results" VerticalAlignment="Center"/>
                    <TextBox x:Name="OdooMaxRes" Text="100" Width="60"/>
                </StackPanel>
            </StackPanel>

            <StackPanel Grid.Column="1" Spacing="8">
                <Grid ColumnSpacing="8">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <StackPanel Grid.Column="0" Spacing="4">
                        <TextBlock x:Name="label2" Text="Property"/>
                        <ComboBox x:Name="OdooSearchProperty" MinWidth="150"/>
                    </StackPanel>

                    <StackPanel Grid.Column="1" Spacing="4">
                        <TextBlock x:Name="OdooPropComparer" Text="is"/>
                        <ComboBox x:Name="OdooSearchPropEqual" Width="80">
                            <ComboBox.ItemTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding OpRepr}"/>
                                </DataTemplate>
                            </ComboBox.ItemTemplate>
                        </ComboBox>
                    </StackPanel>

                    <StackPanel Grid.Column="2" Spacing="4">
                        <TextBlock x:Name="label3" Text="Value"/>
                        <TextBox x:Name="OdooSearchPropValue" MinWidth="150"/>
                    </StackPanel>

                    <Button x:Name="OdooPropAdd" Content="Add" Grid.Column="3" VerticalAlignment="Bottom" Click="OdooPropAdd_Click" MinWidth="120"/>
                </Grid>

                <StackPanel Orientation="Horizontal" Spacing="8" HorizontalAlignment="Right">
                    <Button x:Name="OdooPropDelete" Content="Delete" Click="OdooPropDelete_Click"/>
                    <Button x:Name="OdooPropertyReset" Content="Reset List" Click="OdooPropertyReset_Click"/>
                </StackPanel>
            </StackPanel>
        </Grid>

        <ListView x:Name="OdooSearchPropList" Grid.Row="1" Height="120" Margin="0,16,0,0">
            <ListView.HeaderTemplate>
                <DataTemplate>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="2*"/>
                            <ColumnDefinition Width="1*"/>
                            <ColumnDefinition Width="2*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="Property" Style="{ThemeResource CaptionTextBlockStyle}"/>
                        <TextBlock Grid.Column="1" Text="Comparer" Style="{ThemeResource CaptionTextBlockStyle}"/>
                        <TextBlock Grid.Column="2" Text="Value" Style="{ThemeResource CaptionTextBlockStyle}"/>
                    </Grid>
                </DataTemplate>
            </ListView.HeaderTemplate>
            <ListView.ItemTemplate>
                <DataTemplate>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="2*"/>
                            <ColumnDefinition Width="1*"/>
                            <ColumnDefinition Width="2*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="{Binding PropName}" />
                        <TextBlock Grid.Column="1" Text="{Binding Comparer}" />
                        <TextBlock Grid.Column="2" Text="{Binding Value}" />
                    </Grid>
                </DataTemplate>
            </ListView.ItemTemplate>
        </ListView>

        <ListView
            x:Name="OdooSearchResults"
            Grid.Row="2"
            Margin="0,16,0,0"
            SelectionMode="Extended"
            DoubleTapped="OdooSearchResults_DoubleTapped">

            <ListView.HeaderTemplate>
                <DataTemplate>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="100"/>
                            <ColumnDefinition Width="345"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="ID" Style="{ThemeResource CaptionTextBlockStyle}"/>
                        <TextBlock Grid.Column="1" Text="File Name" Style="{ThemeResource CaptionTextBlockStyle}"/>
                        <TextBlock Grid.Column="2" Text="File Path" Style="{ThemeResource CaptionTextBlockStyle}"/>
                    </Grid>
                </DataTemplate>
            </ListView.HeaderTemplate>
            <ListView.ItemTemplate>
                <DataTemplate>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="100"/>
                            <ColumnDefinition Width="345"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="{Binding ID}" />
                        <TextBlock Grid.Column="1" Text="{Binding Name}" />
                        <TextBlock Grid.Column="2" Text="{Binding Directory}" />
                    </Grid>
                </DataTemplate>
            </ListView.ItemTemplate>

            <ListView.ContextFlyout>
                <MenuFlyout>
                    <MenuFlyoutSubItem x:Name="CheckOutMenuItem" Text="Checkout">
                        <MenuFlyoutItem x:Name="checkoutOpenToolStripMenuItem" Text="Checkout and Open" Click="checkoutOpenToolStripMenuItem_Click"/>
                    </MenuFlyoutSubItem>
                    <MenuFlyoutItem x:Name="unCheckoutToolStripMenuItem" Text="UnCheckout" Click="unCheckoutToolStripMenuItem_Click"/>
                    <MenuFlyoutItem x:Name="openToolStripMenuItem" Text="Open" Click="openToolStripMenuItem_Click"/>
                </MenuFlyout>
            </ListView.ContextFlyout>
        </ListView>

        <Grid Grid.Row="3" Margin="0,16,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <StackPanel Orientation="Horizontal" Spacing="8">
                <Button x:Name="btnCancel" Content="Cancel" Click="OdooCancel_Click" Style="{ThemeResource AccentButtonStyle}">
                    <Button.Resources>
                        <ResourceDictionary>
                            <SolidColorBrush x:Key="ButtonBackgroundPointerOver" Color="PaleVioletRed"/>
                            <SolidColorBrush x:Key="ButtonBackgroundPressed" Color="DarkRed"/>
                            <SolidColorBrush x:Key="ButtonBackground" Color="LightPink"/>
                        </ResourceDictionary>
                    </Button.Resources>
                </Button>
                <Button x:Name="btnReset" Content="Reset" Click="OdooReset_Click"/>
            </StackPanel>

            <Button x:Name="btnSearch" Content="Search" Grid.Column="2" Click="OdooSearch_Click" Style="{ThemeResource AccentButtonStyle}" MinWidth="200"/>
        </Grid>
    </Grid>
</Page>